{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alirahmani/Project/whatis-my-ip/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/alirahmani/Project/whatis-my-ip/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/alirahmani/Project/whatis-my-ip/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import ShowMap from\"./Components/Map\";import\"./App.css\";import{useState,useEffect}from\"react\";import{Route,Routes,Navigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";function App(){var url=\"https://geo.ipify.org/api/v2/country,city?apiKey=\".concat(process.env.REACT_APP_MY_API_KEY,\"&ipAddress\");var _useState=useState(false),_useState2=_slicedToArray(_useState,2),ipInfo=_useState2[0],setIpInfo=_useState2[1];var _useState3=useState(url),_useState4=_slicedToArray(_useState3,2),queryString=_useState4[0],setQueryString=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),loading=_useState10[0],setLoading=_useState10[1];var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setLoading(true);_context.next=4;return fetch(queryString);case 4:response=_context.sent;result=\"\";console.log(response);if(!response.ok){_context.next=13;break;}_context.next=10;return response.json();case 10:result=_context.sent;setIpInfo(result);console.log(ipInfo);case 13:_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](0);console.log(\"something went wrong\",_context.t0);case 18:_context.prev=18;setLoading(false);return _context.finish(18);case 21:case\"end\":return _context.stop();}}},_callee,null,[[0,15,18,21]]);}));return function getData(){return _ref.apply(this,arguments);};}();console.log(ipInfo);useEffect(function(){getData();},[queryString]);return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(Routes,{children:/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ShowMap,{ipInfo:ipInfo})})})});}export default App;","map":{"version":3,"names":["React","ShowMap","useState","useEffect","Route","Routes","Navigate","App","url","process","env","REACT_APP_MY_API_KEY","ipInfo","setIpInfo","queryString","setQueryString","data","setData","error","setError","loading","setLoading","getData","fetch","response","result","console","log","ok","json"],"sources":["/Users/alirahmani/Project/whatis-my-ip/src/App.js"],"sourcesContent":["import React from \"react\";\nimport ShowMap from \"./Components/Map\";\nimport \"./App.css\";\nimport { useState, useEffect } from \"react\";\nimport { Route, Routes,Navigate } from \"react-router-dom\";\n\nfunction App() {\n  const url = `https://geo.ipify.org/api/v2/country,city?apiKey=${process.env.REACT_APP_MY_API_KEY}&ipAddress`;\n  const [ipInfo, setIpInfo] = useState(false);\n  const [queryString, setQueryString] = useState(url);\n  const [data, setData] = useState([])\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n \n  const getData = async () => {\n    try {setLoading(true);\n    const response = await fetch(queryString);\n    let result = \"\"\n   console.log(response)\n    if (response.ok) {\n      result = await response.json();\n     \n       setIpInfo(result);\n       \n      console.log(ipInfo);\n    }\n  }catch(error){\n    console.log(\"something went wrong\",error)\n  }finally {\n    setLoading(false);\n }\n\n  };\n  console.log(ipInfo);\n  useEffect(() => {\n    getData ()\n  },[queryString] );\n\n  return (\n    <div className=\"App\">\n      \n      \n \n \n      <Routes>\n        <Route path=\"/\" element={<ShowMap ipInfo={ipInfo} />} />\n         {/* <Route path=\"/\" element={<Countries data={data} setData={setData}/>} /> */}\n        </Routes> \n        \n      \n      \n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"oYAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,QAAP,KAAoB,kBAApB,CACA,MAAO,WAAP,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,KAAT,CAAgBC,MAAhB,CAAuBC,QAAvB,KAAuC,kBAAvC,C,2CAEA,QAASC,IAAT,EAAe,CACb,GAAMC,IAAG,4DAAuDC,OAAO,CAACC,GAAR,CAAYC,oBAAnE,cAAT,CACA,cAA4BT,QAAQ,CAAC,KAAD,CAApC,wCAAOU,MAAP,eAAeC,SAAf,eACA,eAAsCX,QAAQ,CAACM,GAAD,CAA9C,yCAAOM,WAAP,eAAoBC,cAApB,eACA,eAAwBb,QAAQ,CAAC,EAAD,CAAhC,yCAAOc,IAAP,eAAaC,OAAb,eACA,eAA0Bf,QAAQ,CAAC,EAAD,CAAlC,yCAAOgB,KAAP,eAAcC,QAAd,eACA,eAA8BjB,QAAQ,CAAC,KAAD,CAAtC,0CAAOkB,OAAP,gBAAgBC,UAAhB,gBAGA,GAAMC,QAAO,4FAAG,yKACTD,UAAU,CAAC,IAAD,CAAV,CADS,sBAESE,MAAK,CAACT,WAAD,CAFd,QAERU,QAFQ,eAGVC,MAHU,CAGD,EAHC,CAIfC,OAAO,CAACC,GAAR,CAAYH,QAAZ,EAJe,IAKVA,QAAQ,CAACI,EALC,iDAMGJ,SAAQ,CAACK,IAAT,EANH,SAMZJ,MANY,eAQXZ,SAAS,CAACY,MAAD,CAAT,CAEDC,OAAO,CAACC,GAAR,CAAYf,MAAZ,EAVY,yFAadc,OAAO,CAACC,GAAR,CAAY,sBAAZ,cAbc,yBAedN,UAAU,CAAC,KAAD,CAAV,CAfc,sGAAH,kBAAPC,QAAO,0CAAb,CAmBAI,OAAO,CAACC,GAAR,CAAYf,MAAZ,EACAT,SAAS,CAAC,UAAM,CACdmB,OAAO,GACR,CAFQ,CAEP,CAACR,WAAD,CAFO,CAAT,CAIA,mBACE,YAAK,SAAS,CAAC,KAAf,uBAKE,KAAC,MAAD,wBACE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,OAAO,cAAE,KAAC,OAAD,EAAS,MAAM,CAAEF,MAAjB,EAAzB,EADF,EALF,EADF,CAeD,CAED,cAAeL,IAAf"},"metadata":{},"sourceType":"module"}